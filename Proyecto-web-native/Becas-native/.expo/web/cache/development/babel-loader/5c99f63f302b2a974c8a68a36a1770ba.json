{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React from \"react\";\nimport { useState, useEffect } from 'react';\nimport { useParams } from \"react-router-native\";\nimport { registerBecas, getBecas, updateBecas } from \"../../Funciones/BackBecas.js\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Card, Title, Paragraph, Button, TextInput } from \"react-native-paper\";\nimport Headernav from \"../navbar/navbar.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction FormularioBecas() {\n  var params = useParams();\n  var initialSatate = {\n    id: 0,\n    nombre: \"\",\n    porcentaje: 0,\n    pais: \"\",\n    universidad: \"\",\n    requerimientos: \"\"\n  };\n\n  var _useState = useState(initialSatate),\n      _useState2 = _slicedToArray(_useState, 2),\n      BecaNueva = _useState2[0],\n      setBecaNueva = _useState2[1];\n\n  var handleInputChange = function handleInputChange(e) {\n    setBecaNueva(_objectSpread(_objectSpread({}, BecaNueva), {}, _defineProperty({}, e.target.name, e.target.value)));\n  };\n\n  var handleSubmit = function _callee(e) {\n    var res, data;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n            _context.prev = 1;\n\n            if (params.id) {\n              _context.next = 12;\n              break;\n            }\n\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(registerBecas(BecaNueva));\n\n          case 5:\n            res = _context.sent;\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(res.json());\n\n          case 8:\n            data = _context.sent;\n\n            if (data.message === \"Success\") {\n              setBecaNueva(initialSatate);\n\n              if (BecaNueva.pais === \"Colombia\" || BecaNueva.pais === \"colombia\") {\n                window.location.replace(\"/BecasNacionales\");\n              } else {\n                window.location.replace(\"/BecasInternacionales\");\n              }\n            }\n\n            _context.next = 15;\n            break;\n\n          case 12:\n            _context.next = 14;\n            return _regeneratorRuntime.awrap(updateBecas(params.id, BecaNueva));\n\n          case 14:\n            if (BecaNueva.pais === \"Colombia\" || BecaNueva.pais === \"colombia\") {\n              window.location.replace(\"/BecasNacionales\");\n            } else {\n              window.location.replace(\"/BecasInternacionales\");\n            }\n\n          case 15:\n            _context.next = 20;\n            break;\n\n          case 17:\n            _context.prev = 17;\n            _context.t0 = _context[\"catch\"](1);\n            console.log(_context.t0);\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 17]], Promise);\n  };\n\n  var getBeca = function _callee2(becaId) {\n    var res, data, _data$becas$, nombre, porcentaje, pais, universidad, requerimientos;\n\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(getBecas(becaId));\n\n          case 3:\n            res = _context2.sent;\n            _context2.next = 6;\n            return _regeneratorRuntime.awrap(res.json());\n\n          case 6:\n            data = _context2.sent;\n            _data$becas$ = data.becas[0], nombre = _data$becas$.nombre, porcentaje = _data$becas$.porcentaje, pais = _data$becas$.pais, universidad = _data$becas$.universidad, requerimientos = _data$becas$.requerimientos;\n            setBecaNueva({\n              nombre: nombre,\n              porcentaje: porcentaje,\n              pais: pais,\n              universidad: universidad,\n              requerimientos: requerimientos\n            });\n            _context2.next = 14;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 11]], Promise);\n  };\n\n  useEffect(function () {\n    if (params.id) {\n      getBeca(params.id);\n    }\n  }, []);\n  return _jsxs(View, {\n    children: [_jsx(Headernav, {}), _jsx(TextInput, {\n      label: \"Nombre\",\n      value: BecaNueva.nombre,\n      mode: \"outlined\",\n      onChangeText: function onChangeText(text) {\n        return setBecaNueva(text);\n      }\n    }), _jsx(Button, {\n      style: styles.botonStyle,\n      icon: \"book-plus\",\n      mode: \"contained\",\n      onPress: function onPress() {\n        return CrearBecas();\n      },\n      children: \"Agregar Beca\"\n    })]\n  });\n}\n\nvar styles = StyleSheet.create({\n  textStyle: {\n    color: \"white\",\n    fontSize: 20\n  },\n  carder: {\n    margin: 10,\n    padding: 10,\n    backgroundColor: '#6804ec'\n  }\n});\nexport default FormularioBecas;","map":{"version":3,"names":["React","useState","useEffect","useParams","registerBecas","getBecas","updateBecas","Card","Title","Paragraph","Button","TextInput","Headernav","FormularioBecas","params","initialSatate","id","nombre","porcentaje","pais","universidad","requerimientos","BecaNueva","setBecaNueva","handleInputChange","e","target","name","value","handleSubmit","preventDefault","res","json","data","message","window","location","replace","console","log","getBeca","becaId","becas","text","styles","botonStyle","CrearBecas","StyleSheet","create","textStyle","color","fontSize","carder","margin","padding","backgroundColor"],"sources":["D:/Programacion/Proyecto-web-native/Becas-native/components/Becas/FormBeca.js"],"sourcesContent":["import React from \"react\";\r\nimport {useState, useEffect} from 'react';\r\nimport { useParams } from \"react-router-native\";\r\nimport {registerBecas, getBecas, updateBecas} from \"../../Funciones/BackBecas.js\";\r\nimport { ScrollView, View, Text, StyleSheet } from \"react-native\";\r\nimport { Card, Title, Paragraph, Button, TextInput } from \"react-native-paper\";\r\nimport Headernav from \"../navbar/navbar.js\";\r\n\r\n\r\nfunction FormularioBecas(){\r\n\r\n\r\n\r\n    /*<Form onSubmit={handleSubmit} className=\"col-md-5 mx-auto bg-dark text-white\">\r\n            <div>\r\n                {\r\n                    params.id?(\r\n                        <h1>Actualizar Beca</h1>\r\n\r\n                    ):(\r\n                        <h1>Publicar Beca</h1>\r\n                    )\r\n                }\r\n            </div>\r\n            <Form.Group className=\"col-mb-3 mx-auto\" controlId=\"formTituloBeca\">\r\n                <Form.Label>Titulo Beca</Form.Label>\r\n                <Form.Control type=\"text\" name=\"nombre\" value={BecaNueva.nombre} onChange={handleInputChange} placeholder=\"Ingrese el titulo de la beca\" />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\" controlId=\"formPorcentaje\">\r\n                <Form.Label>Porcentaje</Form.Label>\r\n                <Form.Control type=\"number\" name=\"porcentaje\" value={BecaNueva.porcentaje} onChange={handleInputChange}  placeholder=\"Ingrese el porcentaje cubierto\" />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\" controlId=\"formPais\">\r\n                <Form.Label>Pais</Form.Label>\r\n                <Form.Control type=\"text\" name=\"pais\" value={BecaNueva.pais} onChange={handleInputChange} placeholder=\"Ingrese el pais donde ofrecen la beca\" />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\" controlId=\"formUniversidad\">\r\n                <Form.Label>Universidad</Form.Label>\r\n                <Form.Control type=\"text\" name=\"universidad\" value={BecaNueva.universidad} onChange={handleInputChange} placeholder=\"Ingrese la universidad que ofrece la beca\" />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\" controlId=\"formRequerimientos\">\r\n                <Form.Label>Requerimiento</Form.Label>\r\n                <Form.Control type=\"text\" name=\"requerimientos\" value={BecaNueva.requerimientos} onChange={handleInputChange} placeholder=\"Ingrese el requerimiento de la beca\" />\r\n            </Form.Group>\r\n            <div className=\"d-grid gap-2\">\r\n                {\r\n                    params.id?(\r\n                        <Button className=\"btn btn-block btn-warning\" variant=\"warning\" type=\"submit\">\r\n                            Actualizar\r\n                        </Button>\r\n\r\n                    ):(\r\n                        <Button className=\"btn btn-block btn-primary\" variant=\"primary\" type=\"submit\">\r\n                            Crear Beca\r\n                        </Button>\r\n                    )\r\n                }\r\n            </div>\r\n        </Form> */\r\n    \r\n\r\n    const params = useParams();\r\n\r\n    const initialSatate = {id:0, nombre: \"\", porcentaje: 0, pais: \"\", universidad: \"\", requerimientos: \"\"};\r\n\r\n    const[BecaNueva, setBecaNueva] = useState(initialSatate);\r\n\r\n    const handleInputChange = (e) => {\r\n        \r\n        setBecaNueva({ ...BecaNueva, [e.target.name]: e.target.value});\r\n    };\r\n\r\n\r\n    const handleSubmit = async (e) =>{\r\n        e.preventDefault();\r\n        try{\r\n            let res;\r\n            if(!params.id){\r\n                res = await registerBecas(BecaNueva);\r\n                const data = await res.json();\r\n                if(data.message === \"Success\"){\r\n                setBecaNueva(initialSatate);\r\n                if(BecaNueva.pais === \"Colombia\" || BecaNueva.pais === \"colombia\"){\r\n                    window.location.replace(\"/BecasNacionales\");\r\n                }else{\r\n                    window.location.replace(\"/BecasInternacionales\");\r\n                }\r\n                }\r\n            }else{\r\n                await updateBecas(params.id,BecaNueva);\r\n                if(BecaNueva.pais === \"Colombia\" || BecaNueva.pais === \"colombia\"){\r\n                    window.location.replace(\"/BecasNacionales\");\r\n                }else{\r\n                    window.location.replace(\"/BecasInternacionales\");\r\n                }\r\n            }\r\n            \r\n        }catch(error){\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    const getBeca = async (becaId) =>{\r\n        try{\r\n            const res=await getBecas(becaId);\r\n            const data= await res.json();\r\n            const { nombre, porcentaje, pais, universidad, requerimientos} = data.becas[0];\r\n            setBecaNueva({ nombre, porcentaje, pais, universidad, requerimientos});\r\n        }catch(error){\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    useEffect(() =>{\r\n        if(params.id){\r\n          getBeca(params.id);  \r\n        }\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    return(\r\n        <View>\r\n            <Headernav/>\r\n            <TextInput\r\n                label=\"Nombre\"\r\n                value={BecaNueva.nombre}\r\n                mode = \"outlined\"\r\n\r\n                onChangeText={text => setBecaNueva(text)}\r\n            />\r\n            <Button\r\n            style = {styles.botonStyle}\r\n            icon = \"book-plus\"\r\n            mode = \"contained\"\r\n            onPress = {() => CrearBecas()}\r\n\r\n            >\r\n                Agregar Beca\r\n            </Button>\r\n\r\n        </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  textStyle:{\r\n      color:\"white\",\r\n      fontSize: 20,\r\n    },\r\n    carder:{\r\n        margin:10,\r\n        padding:10,\r\n        backgroundColor:'#6804ec',\r\n\r\n    },\r\n\r\n  })\r\n\r\nexport default FormularioBecas;"],"mappings":"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"},"metadata":{},"sourceType":"module"}